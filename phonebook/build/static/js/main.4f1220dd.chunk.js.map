{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","handle","type","onChange","PersonForm","nameValue","numberValue","handleName","handleNumber","handleAdd","value","onClick","Persons","person","remove","name","number","Notification","message","styles","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseurl","axios","get","then","response","data","post","id","delete","patch","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filterText","setFilterText","notification","setNotification","useEffect","personsService","initialPersons","filteredPersons","filter","search","RegExp","event","target","preventDefault","find","p","window","confirm","updatedP","receivedData","map","catch","error","setTimeout","concat","alert","removePerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4f1220dd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ handle }) => (\n    <>filter shown with <input type=\"text\" onChange={handle}/></>\n)\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({\n    nameValue,\n    numberValue,\n    handleName,\n    handleNumber,\n    handleAdd\n}) => {\n    return (\n        <form>\n            <div>\n                name: <input value={nameValue} onChange={handleName} /><br/>\n                number: <input value={numberValue} onChange={handleNumber} />\n            </div>\n            <div>\n                <button type=\"submit\" onClick={handleAdd}>add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ person, remove }) => (\n    <>\n        {\n            <p key={person.name} >\n                {person.name} {person.number}\n                <button onClick={remove} >delete</button>\n            </p>\n        }\n    </>    \n)\n\nexport default Persons","const Notification = ({ message, color }) => {\n    const styles = {\n        color: color,\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    \n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div style={styles}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseurl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseurl)\n    return request.then(response => response.data)\n}\n\nconst add = (person) => {\n    const request = axios.post(baseurl, person)\n    return request.then(response => response.data)\n}\n\nconst del = (id) => {\n    const request = axios.delete(`${baseurl}/${id}`)\n    return request.then(response => response)\n}\n\nconst update = (id, person) => {\n    const request = axios.patch(`${baseurl}/${id}`, person)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, add, del, update }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filterText, setFilterText ] = useState('')\n  const [ notification, setNotification ] = useState({\n    message: null,\n    color: 'green',\n  })\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons))\n  }, [])\n\n  const handleAddPerson = (event) => {\n    event.preventDefault()\n    if(!persons.find(p => p.name === newName)) {\n      const tempPerson = {\n        name: newName,\n        number: newNumber\n      }\n  \n      personsService\n        .add(tempPerson)\n        .then(person => {\n          setPersons(persons.concat(person))\n          setNotification({\n            message: `Added ${person.name}`,\n            color: 'green'\n          })\n          setTimeout(() => {\n            setNotification({\n              ...notification,\n              message: null\n            })\n          }, 3000)\n          setNewName('')\n          setNewNumber('')\n        })\n    } else {\n      if (window.confirm(`${newName} is already added to phonebook. Replace old number with a new one?`)) {\n        const p = persons.find(p => p.name === newName)\n        const updatedP = {...p, number: newNumber}\n        personsService\n          .update(p.id, updatedP)\n          .then(receivedData => {\n            setPersons(persons.map(p => p.name === newName ? receivedData : p))\n          })\n          .catch(error => {\n            setPersons(persons.filter(p => p.name !== newName))\n            setNotification({\n              message: `Information of ${newName} has already been removed from server`,\n              color: 'red'\n            })\n            setTimeout(() => {\n              setNotification({message: null})\n            }, 3000)\n          })\n      }\n    }\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n  \n  const handleFilter = (event) => {\n    setFilterText(event.target.value);\n  }\n\n  const filteredPersons = persons.filter((person) => \n    person.name.search(new RegExp(filterText, \"i\")) !== -1)\n\n  const removePerson = id => {\n    const p = persons.find(p => p.id === id)\n    if(window.confirm(`Delete ${p.name}?`)) {\n      personsService\n        .del(id)\n        .then(response => {\n          personsService\n            .getAll()\n            .then(initialPersons => setPersons(initialPersons))\n        })\n        .catch(error => {\n          alert(`the person with id ${id} was already deleted from server`)\n          setPersons(persons.filter(p => p.id !== id))\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification.message} color={notification.color} />\n      <Filter handle={handleFilter} />\n      <h3>add a new</h3>\n      <PersonForm\n        nameValue={newName}\n        numberValue={newNumber}\n        handleName={handleNewName}\n        handleNumber={handleNewNumber}\n        handleAdd={handleAddPerson}\n      />\n      <h2>Numbers</h2>\n      {\n        filteredPersons.map(person =>\n          <Persons \n            key={person.id} \n            person={person} \n            remove={() => removePerson(person.id)}\n          />\n        )\n      }\n    </div>\n)\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}